#:kivy 2.2.1

<MainScreen>:    

	id: main_screen
	
	GridLayout:
		
		cols: 1
		rows: 2
			
    	Button:
			id: main_screen_sign_button
			text: 'Sign'
			font_size: root.height // 25
			font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press_sign_button()
    		on_release: root.on_release_sign_button()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
		
    	Button:
			id: main_screen_verify_button
			text: 'Verify'
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press_verify_button()
			on_release: root.on_release_verify_button()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

<SignScreen>:

	GridLayout:
		cols: 1
		rows: 4

		Button:
			id: export_sha256_message
			text: "Export sha256sum's message"
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press: root.on_press_export_sha256_message()    		
			on_release: root.on_release_export_sha256_message()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

		Button:
			id: import_signature_message
			text: "Import signature's message"
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press: root.on_press_import_signature_message()
    		on_release:root.on_release_import_signature_message()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

		Button:
			id: import_publickey_message
			text: 'Import public-key message'
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press: root.on_press_import_publickey_message()
    		on_release: root.on_release_import_publickey_message()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

		
		Button:
			id: sign_screen_back
			text: 'Back'
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0
			color: 1, 1, 1, 1
			on_press: root.on_press_back_main()
    		on_release: root.on_release_back_main()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

<VerifyScreen>:

	GridLayout:
		cols: 1
		rows: 5

		Button:
			id: verify_screen_load_file_button
			text: 'Load file'			
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press: root.on_press_verify_screen_load_file_button()
    		on_release: root.on_release_verify_screen_load_file_button()
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

		Button:
			text: 'Load Signature'
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press:
				self.background_color = (.5, .5, .5, .5)
    		on_release:
				self.background_color = (0, 0, 0, 0)
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

		Button:
			text: 'Load public-key'			
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press:
				self.background_color = (.5, .5, .5, .5)
    		on_release:
				self.background_color = (0, 0, 0, 0)
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

		Button:
			text: 'Verify signature'			
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press:
				self.background_color = (.5, .5, .5, .5)
    		on_release:
				self.background_color = (0, 0, 0, 0)
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height
		
		Button:
			text: 'Back'
			font_size: root.height // 25
        	font_name: 'terminus.ttf'
			background_color: 0, 0, 0, 0,
			color: 1, 1, 1, 1
			on_press:
				self.background_color = (.5, .5, .5, .5)
    		on_release:
				self.background_color = (0, 0, 0, 0)
				root.manager.transition.direction = 'right'
				root.manager.current = 'main'
			canvas.before:
        		Color:
            		rgba: 1, 1, 1, 1
        		Line:
            		width: 0.5
            		rectangle: self.x, self.y, self.width, self.height

<FileLoader>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
			on_selection: root.select(*args)

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
				font_size: root.height // 25
        		font_name: 'terminus.ttf'
                text: "Cancel"
                on_release: root.cancel()

            Button:
				font_size: root.height // 25
				font_name: 'terminus.ttf'
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<QRCodeScreen>:

	id: export-sha256
	
#	QRCodeWidget:
#		id: qrcode_data
#		data: root.code
#		
#	Label:
#		id: qrcode_label
#		font_size: root.height // 30
#		font_name: 'terminus.ttf'
#		halign: 'center'
#		color: 1, 1, 1
#		background_color: 0, 0, 0
#		markup: True